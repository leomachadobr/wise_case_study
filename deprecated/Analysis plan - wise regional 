## Analysis Plan - Wise regional expansion

**Context and Goal** Wise has launched a new currency route (MXN -> USD). With the data in our power [[src/wise_funnel_analysis.csv]] we want to evaluate. (i) Wether the launch is on track (ii) possible issues that we'd like to share with the product team.

## Important Info

**Customer Happy Path** A customer uses wise to transfer money abroad or keep money into an international currency account, thus the happy path is 

Transfer Created -> Transfer Funded -> Transfer Transferred

## Dataset organization

bewlo it's the column and description of the dataset we're using

| Column | Description |
|--------|-------------|
| event_name | Name of the transfer flow step event the user has been able to successfully complete |
| dt | Event date |
| user_id | User unique identifier that performed the transfer |
| region | Region grouping of the residential country of the user |
| platform | Platform used by the user to perform the event |
| experience | Customer experience type when performing the transfer. **New**: When the customer is new to wise. **Existing**: When the customer has already performed transfers in the past |


## Analysis Plan

**1. Validate the data: ** 
- check if there is missing data
- compute agregates (give us sense of the numbers)
- check unique user_ids
- Ceate some charts answering: how many unique users do we have in each region, how many new/existing customers, how many are using each platfomrm
- check if the other properties related to user_ids change (region, platform and experience) flag it. 
- Identify extrems and outliers - are there user_ids creating an transferring multiple events? 

Questions: is the data sound? are there changes in customer profiling? 

**2. Categorize the transactions to seek the _"happy path"_** 

- Categorize transfers between `settled` `partially_settled` and `unsettled` 
- Settled transaction - events `transfer created - transfer funded - transfer transferred` ocurr in sequence for the same user_id - consider events this order for events in the same day.
- `partially_settled` occurs when the loop stops: transfer created -> transfer funded
- unsettled occurs when a transfer is only created 
- each new transfer created is event should be attributed a single transfer_id, the following steps will determine wether it's settled, partially settled or not.
- Create a new dataframe and save it on the /src as wise_transfer_info. This dataframe has to bring also the data of the user in the oment the transfer was created.


**3. Evaluate the state of transfers** 

- How the % of trasnfeer settled/partially settled/unsetlled is evolving weekly - consider a 7 day moving average
- break it by the existing variables - The existing variables show any change of pattern (eg: less new customers, more customers in a given region, etc) - a line chart for each one of the variables througout the period should make it work.

Question: is the profile changing during the time? Are the new users being as sucessful as the old ones? Is there some platform showing problems? 

- Run a logistic regression (consider partially_settled and settled = 0 and unsetteld = 1) to undertand what is causing this level of friction. 

Look into the variables that can explain more what is causing unsettled transactions.



**4. Analyze friction and recurrency**

- Who is getting friction comes back an try again? Is this different by experience, region or plaform? 
- customers who get friction in one platform try again in other platfomr? 
- New customers are coming back after being sucessful in the same rate existin customers? 
- Old Customers who get friction - who are they? Are they different from the new customers who get friction
- After getting friction - are they coming back? 

- Are customers coming back? What's the prevalence of recurrency for customers who concluded one transaction


**5. Deep Dive and Synthesize** 

Look for other signals, check wether we have something extra to look at
Synthesize the findings and key messages
Save the manipulated datasets as .csv in the /src folder
Save the images in the /exports
Save a run copy of the noteebook as pdf in /exports
